Method 3: Vault Secrets Mounted as Files (No Pod Restart Required)
Overview

Secrets are mounted directly into the container filesystem using the Secrets Store CSI Driver.

Applications read secrets from files instead of env vars.

Flow

Create SecretProviderClass

CSI driver mounts Vault secrets as files

Files are periodically refreshed

Application reads updated values dynamically

No pod restart required

Sample Volume Mount
volumeMounts:
  - name: secrets-store
    mountPath: /mnt/secrets-store
    readOnly: true

Key Characteristics
Aspect	Details
Secret Delivery	Filesystem
Consumption	File read
Pod Restart	âŒ Not required
Rotation	âœ… Automatic
Security	ğŸŸ¢ High
App Change Needed	ğŸŸ¡ Yes
Important Considerations

App must be capable of:

Re-reading files

Handling updated secrets dynamically

Recommended mount location:

/tmp or ephemeral volume

Avoid long-lived file caching

Pros

Zero-downtime secret rotation

No Kubernetes Secret object

Best security posture

Cons

App changes required

Not suitable for env-only apps

Best Use Case

âœ”ï¸ Modern microservices
âœ”ï¸ High-availability workloads
âœ”ï¸ Long-running services
